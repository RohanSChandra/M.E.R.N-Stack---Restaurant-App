{"ast":null,"code":"import _regeneratorRuntime from\"/Users/rohan/Code/02-project---reservationizr-app-part-2---manage-reservations-RohanSChandra/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/rohan/Code/02-project---reservationizr-app-part-2---manage-reservations-RohanSChandra/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"/Users/rohan/Code/02-project---reservationizr-app-part-2---manage-reservations-RohanSChandra/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect}from\"react\";import{useParams}from\"react-router-dom\";import{formatDate}from\"../utils/formatDate\";import{Link}from\"react-router-dom\";import{useAuth0}from\"@auth0/auth0-react\";import\"./Reservation.css\";import{jsx as _jsx}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Reservation=function Reservation(){var _useParams=useParams(),id=_useParams.id;var _useState=useState({}),_useState2=_slicedToArray(_useState,2),reservation=_useState2[0],setReservation=_useState2[1];var _useState3=useState(true),_useState4=_slicedToArray(_useState3,2),isLoading=_useState4[0],setIsLoading=_useState4[1];var _useAuth=useAuth0(),getAccessTokenSilently=_useAuth.getAccessTokenSilently;useEffect(function(){var fetchData=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var accessToken,fetchUrl,response,data;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return getAccessTokenSilently();case 2:accessToken=_context.sent;fetchUrl=\"http://localhost:5001/reservations/\".concat(id);_context.next=6;return fetch(fetchUrl,{headers:{Authorization:\"Bearer \".concat(accessToken)}});case 6:response=_context.sent;_context.next=9;return response.json();case 9:data=_context.sent;setReservation(data);setIsLoading(false);case 12:case\"end\":return _context.stop();}}},_callee);}));return function fetchData(){return _ref.apply(this,arguments);};}();fetchData();},[id,getAccessTokenSilently]);if(isLoading){return/*#__PURE__*/_jsx(\"p\",{children:\"Loading...\"});}if(reservation.error){return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"h3\",{className:\"error-message\",children:\"Sorry! We can't find that reservation\"}),/*#__PURE__*/_jsx(Link,{to:\"/reservations\",className:\"reservation-only-button\",children:\"\\u2190 Back to reservations\"})]});}return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h2\",{children:reservation.restaurantName}),/*#__PURE__*/_jsx(\"p\",{children:formatDate(reservation.date)}),/*#__PURE__*/_jsxs(\"p\",{className:\"reservation-only-party-size\",children:[/*#__PURE__*/_jsx(\"strong\",{children:\" Party Size: \"}),\" \",reservation.partySize]}),/*#__PURE__*/_jsx(Link,{to:\"/reservations\",className:\"reservation-only-button\",children:\"\\u2190 Back to reservations\"})]})},reservation.id)});};export default Reservation;","map":{"version":3,"sources":["/Users/rohan/Code/02-project---reservationizr-app-part-2---manage-reservations-RohanSChandra/client/src/components/Reservation.js"],"names":["React","useState","useEffect","useParams","formatDate","Link","useAuth0","Reservation","id","reservation","setReservation","isLoading","setIsLoading","getAccessTokenSilently","fetchData","accessToken","fetchUrl","fetch","headers","Authorization","response","json","data","error","restaurantName","date","partySize"],"mappings":"2oBAAA,MAAOA,CAAAA,KAAP,EAAgBC,QAAhB,CAA0BC,SAA1B,KAA2C,OAA3C,CACA,OAASC,SAAT,KAA0B,kBAA1B,CACA,OAASC,UAAT,KAA2B,qBAA3B,CACA,OAASC,IAAT,KAAqB,kBAArB,CACA,OAASC,QAAT,KAAyB,oBAAzB,CAEA,MAAO,mBAAP,C,6IAEA,GAAMC,CAAAA,WAAW,CAAG,QAAdA,CAAAA,WAAc,EAAM,CACxB,eAAeJ,SAAS,EAAxB,CAAQK,EAAR,YAAQA,EAAR,CACA,cAAsCP,QAAQ,CAAC,EAAD,CAA9C,wCAAOQ,WAAP,eAAoBC,cAApB,eACA,eAAkCT,QAAQ,CAAC,IAAD,CAA1C,yCAAOU,SAAP,eAAkBC,YAAlB,eACA,aAAmCN,QAAQ,EAA3C,CAAQO,sBAAR,UAAQA,sBAAR,CAEAX,SAAS,CAAC,UAAM,CACd,GAAMY,CAAAA,SAAS,0FAAG,gMACUD,CAAAA,sBAAsB,EADhC,QACVE,WADU,eAEVC,QAFU,8CAEuCR,EAFvC,wBAGOS,CAAAA,KAAK,CAACD,QAAD,CAAW,CACrCE,OAAO,CAAE,CACPC,aAAa,kBAAYJ,WAAZ,CADN,CAD4B,CAAX,CAHZ,QAGVK,QAHU,qCAQGA,CAAAA,QAAQ,CAACC,IAAT,EARH,QAQVC,IARU,eAShBZ,cAAc,CAACY,IAAD,CAAd,CAEAV,YAAY,CAAC,KAAD,CAAZ,CAXgB,uDAAH,kBAATE,CAAAA,SAAS,0CAAf,CAaAA,SAAS,GACV,CAfQ,CAeN,CAACN,EAAD,CAAKK,sBAAL,CAfM,CAAT,CAiBA,GAAIF,SAAJ,CAAe,CACb,mBAAO,iCAAP,CACD,CAED,GAAIF,WAAW,CAACc,KAAhB,CAAuB,CACrB,mBACE,wCACE,WAAI,SAAS,CAAC,eAAd,mDADF,cAEE,KAAC,IAAD,EAAM,EAAE,CAAC,eAAT,CAAyB,SAAS,CAAC,yBAAnC,yCAFF,GADF,CAQD,CACD,mBACE,sCACE,kCACE,oCACE,oBAAKd,WAAW,CAACe,cAAjB,EADF,cAEE,mBAAIpB,UAAU,CAACK,WAAW,CAACgB,IAAb,CAAd,EAFF,cAGE,WAAG,SAAS,CAAC,6BAAb,wBACE,yCADF,KACkChB,WAAW,CAACiB,SAD9C,GAHF,cAOE,KAAC,IAAD,EAAM,EAAE,CAAC,eAAT,CAAyB,SAAS,CAAC,yBAAnC,yCAPF,GADF,EAAUjB,WAAW,CAACD,EAAtB,CADF,EADF,CAiBD,CAtDD,CAwDA,cAAeD,CAAAA,WAAf","sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport { useParams } from \"react-router-dom\";\nimport { formatDate } from \"../utils/formatDate\";\nimport { Link } from \"react-router-dom\";\nimport { useAuth0 } from \"@auth0/auth0-react\";\n\nimport \"./Reservation.css\";\n\nconst Reservation = () => {\n  const { id } = useParams();\n  const [reservation, setReservation] = useState({});\n  const [isLoading, setIsLoading] = useState(true);\n  const { getAccessTokenSilently } = useAuth0();\n\n  useEffect(() => {\n    const fetchData = async () => {\n      const accessToken = await getAccessTokenSilently();\n      const fetchUrl = `http://localhost:5001/reservations/${id}`;\n      const response = await fetch(fetchUrl, {\n        headers: {\n          Authorization: `Bearer ${accessToken}`,\n        },\n      });\n      const data = await response.json();\n      setReservation(data);\n\n      setIsLoading(false);\n    };\n    fetchData();\n  }, [id, getAccessTokenSilently]);\n\n  if (isLoading) {\n    return <p>Loading...</p>;\n  }\n\n  if (reservation.error) {\n    return (\n      <>\n        <h3 className=\"error-message\">Sorry! We can't find that reservation</h3>\n        <Link to=\"/reservations\" className=\"reservation-only-button\">\n          &larr; Back to reservations\n        </Link>\n      </>\n    );\n  }\n  return (\n    <>\n      <div key={reservation.id}>\n        <div>\n          <h2>{reservation.restaurantName}</h2>\n          <p>{formatDate(reservation.date)}</p>\n          <p className=\"reservation-only-party-size\">\n            <strong> Party Size: </strong> {reservation.partySize}\n          </p>\n\n          <Link to=\"/reservations\" className=\"reservation-only-button\">\n            &larr; Back to reservations\n          </Link>\n        </div>\n      </div>\n    </>\n  );\n};\n\nexport default Reservation;\n"]},"metadata":{},"sourceType":"module"}